#+PAGEID: 1865734207
#+VERSION: 12
#+STARTUP: align
#+OPTIONS: toc:1
#+TITLE: Fiori Development Guideline

** References
|                             |                  |             | <30>                           |
| Document Title              | Date             | Link        | Comments                       |
|-----------------------------+------------------+-------------+--------------------------------|
| S/4 Guideline Map           | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1724544760][sapwiki]]     | Index page for all related materials |
| S/4 System Landscape        | <2016-12-22 Thu> | [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1280512521][sapwiki]]     | System Landscapes of S/4 development line |
| S/4 UI Landscape            | <2016-12-22 Thu> | [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Infra-Internal+New][sapwiki]]     | System Landscapes on Fiori UI Frontend server and webdispatcher |
| S/4 Release Version Map     | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/ERPFINDEV/sFIN+Release+Version+Mapping][sapwiki]]     | Puzzled with UIAPFI70 300, sFIN 2.0 SP5, S/4H 1511, sFIN OP 1605 GA version or SAPUI5 Dist 1.37.x? Have a look at the Version Mapping |
| S/4 Fiori Release FAQ       | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/ERPFINDEV/Fiori+%2528sFIN%2529+Release+Process+FAQ][sapwiki]]     | Do you have questions on what an MRC, FRB or a Maintenance Branch is? Have a look at the Release Build FAQ: |
| SAP Gateway Help            | <2016-12-16 Fri> | [[http://help.sap.com/saphelp_gateway20sp12/helpdata/en/2d/f2caab316446d49c05ec12407ad284/content.htm?frameset=/en/60/de45e3754f4eca83e02727236064e2/frameset.htm&current_toc=/en/57/a41787789c4eca867d9a09696fc42c/plain.htm&node_id=53&show_children=false][online help]] | SAP Gateway online help, well introduce gateway from customer implementation perspective |
| SAP Fiori Help              | <2016-12-22 Thu> | [[http://help.sap.com/fiori_bs2013/helpdata/en/14/966753a4834e3fe10000000a441470/content.htm?current_toc=/en/6b/966753a4834e3fe10000000a441470/plain.htm&show_children=true][online help]] | SAP Fiori online help, well introduce how to implement Fiori from customer perspective |
| SAP Fiori Launchpad         | <2016-12-23 Fri> | [[http://help.sap.com/saphelp_uiaddon10/helpdata/en/f9/51b50a07ce41deb08ced62711fe8b5/content.htm?current_toc=/en/bd/e12a271f0647e799b338574cda0808/plain.htm&show_children=true][online help]] | On how to configure and use Launchpad from customer perspective |
| Fiori Development Guideline | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/fioritech/Development+Guideline+Portal][sapwiki]]     | The content of this development guideline portal is structured in specific topics like setting up the development environment, stateless applications, value help or others. Most of these topics are described in detail in separate guidelines on other Wiki pages. This portal is an entry point to deep dive information. |
| IAM Development Guideline   | <2017-01-05 Thu> | [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/IAM+Development+Guideline#IAMDevelopmentGuideline-DesignConsiderations][sapwiki]]     | What's Technical Catalog, Biz Catalog, Biz Roles, Semantic Objects, and so on and on. How to create them? |
| Fiori Reuse Library         | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/ERPFINDEV/Fiori+Reuse+Library][sapwiki]]     | The sFIN Fiori Library is a UI Reuse Library based on this guideline intended for reuse of central components and artifacts which shall be reusable across the entire FIN UI Frontend Software Components UIAPFI70 and SAPSCORE (FIN only part). |
| Fiori Reuse Guideline       | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/AT1+UI+Reuse+Guideline][sapwiki]]     | Guidelines for Reuse of UI Functionality in Fiori Archetype 1 Apps via Fiori Libraries |
| Fiori Correction Cookbook   | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/display/ERPFINDEV/FIN+Fiori+Correction+Cookbook][sapwiki]]     | This cookbook should provide some assistance on the question how and where you need to create corrections for Transactional Fiori Apps. |
| Git/Gerrit                  | <2016-12-16 Fri> | [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1596197870][sapwiki]]     | For us, Fiori developers, git is a toolkit with which we come in contact literally every day. Used properly, it allows you gain great improvements in your development efficiency - but may also trash it completely, if you do not know what you are doing. |


** Concepts and Context

#+CAPTION: Fiori Development Process 
[[../image/FioriDevelopmentProcess.png]]  

#+CAPTION: LOB Financial Fiori Landscape
[[../image/FinFioriLandscape.png]]  

| Purpose                          | GW  | UI Version   | Supply Rule          |
|----------------------------------+-----+--------------+----------------------|
| S/4 Hana OP and CE Infinity: Dev | UXT | 1.45snapshot | daily supply of 1.45 |
| S/4 Hana OP and CE Infinity: QA  | UXR | 1.45snapshot | daily supply of 1.45 |
| S/4 Hana OP and CE Infinity: PF  | U8P | 1.45snapshot | daily supply of 1.45 |
| S/4 Hana OP 1610 Delivery: Dev   | NMK | 1.44.3       | UI V3 SP00 + notes   |
| S/4 Hana OP 1610 Delivery: QA    | UXV | 1.44.4       | UI V3 SP00 + notes   |
| S/4 Hana OP 1610 Delivery: PF    | M9P | 1.44.3       | UI V3 SP00 + notes   |

There is a good tool which collects all the links: https://cpl.mo.sap.corp/launchpad/index.php?lds=OP1610&cat=S/4HANA

*** General Rules
**** DOs
1. One SAP Fiori app - one OData service.
2. If Fiori app is upgraded, OData service is not mandatory to be upgraded. That is to say Fiori UI and OData should be decoupled.
3. Use SAP Web IDE as the main code tool.

**** DON'Ts
1. Do not use static cross-application navigation.
2. Do not use absolute URLs.
3. Do not use the SEGW REDEFINE functionality.
4. Dependencies to the ODATA packages in the standard packages are not allowed.
5. Cross dependencies between the OData packages are not allowed.
6. Do not create generic services e.g. for attachment handling for reuse purposes. An OData service shall only serve everything an UI/app needs and shall consider a specific business scenario.


** Quick Start

#+CAPTION: A Reference Development Infrastructure
[[../image/JavaDevInfras.png]] 

*** Fiori Launchpad Configuration
This part introduce how you embed your applications into the [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-client=902#Shell-home][Fiori Launchpad(UXT902)]], or vice verser, how you find an existing application from Launchpad to the backend services. 

1. If your applications are legacy SAPGUI or WebDynpro, then you should define your Backend Catalogs. Please use this [[https://ldcier9.wdf.sap.corp:44300/sap/bc/webdynpro/sap/sui_tm_mm_app?sap-language=EN&sap-client=500#][tool]] to create your Backend Catalogs and refer the [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/Maintenance+of+Frontend+and+Backend+Catalogs][wikipage]] for detail;
2. You may need to apply semantic objects;
3. You create your catalogs and business groups in [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/sap/arsrvc_upB_admn/main.html?sap-client=902scope=CUST][Fiori LaunchPad Designer]](FLP Designer). Please follow the [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/UI+-+Related+Naming+Conventions%252C+Packages+and+Software+Components][naming conventions]];
5. You create PFCG roles and assign launchpad catalogs and groups into the roles, *this task should be done in Frontend Server*;
6. Finally, you assign SAP users to the PFCG role, and then open the [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/sap/arsrvc_upB_admn/main.html?sap-client=902scope=CUST][Launchpad Designer]] will see your tiles.

You can find more details steps in the [[https://help.sap.com/saphelp_uiaddon10/helpdata/en/f9/51b50a07ce41deb08ced62711fe8b5/content.htm?current_toc=/en/bd/e12a271f0647e799b338574cda0808/plain.htm&show_children=true][online help]] link. However, you will find you do not have the authorization to do user/role assignments. You have to apply Business Roles by using the DLM self service tool: https://vmw4958.wdf.sap.corp:44344/sap/bc/webdynpro/sap/zdlm_nav_role?sid=UXT&clnt=902. For example, you add the existing business role "SAP_BR_GL_ACCOUNTANT".

In case you want to find the Fiori code and the backend service, you can process in following steps:

1. You find roles assigned to your SAP user in the Frontend Server. For example, SAP_BR_GL_ACCOUNTANT;
2. Open "SAP_BR_GL_ACCOUNTANT" using PFCG, try to compare the description of the group and find the its technique name. For example, "General Reporting" has the technical name "SAP_SFIN_BCG_GL_GEN_REP";
3. Use [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/sap/arsrvc_upB_admn/main.html?scope=CUST&sap-client=902#][FLP Designer]] open the group "SAP_SFIN_BCG_GL_GEN_REP", find the tile of the app click the "i" icon to see the catalog's ID. You can double click the catalog link to navi to the catalog detail;
4. Switch to the tab "Target Mapping", find the semantic object ("FinancialStatement" for example), click "Configure" in the bottom toolbar;
5. In the detail page of the mapping, you can find the ID of the application(that is "fin.gl.finstatement.display");
6. Open  to search "fin.gl.finstatement.display", click to see the detail of the Fiori project, like: BPS name, ABAP package, Software Component, and so on;
7. You can view the code by either cloning to your Web IDE, or view it in web pages(Browse Sources in Gitiles). Find in manifest.json, and look for "dataSources". You can find the gateway service name("FAC_FINANCIAL_STATEMENT" for example);
8. You open "FAC_FINANCIAL_STATEMENT" using SEGW in the Backend Server, and read or debug the backend codes. 
*** Git/Gerrit
1. Install git, please find the binary "Git-2.5.0-64-bit.exe" in the following [[\\Cnpvgl000\restricted\FGI\50_Project\Central_Finance\99_Knowledge\03_Consolidation\Fiori\environment\software][share folder]];
2. After Installation git, you can find the tool "git bash" in your start menu, open it will popup a command window;
3. Type following command in git bash to register your account to git
#+BEGIN_SRC shell
$ git config --global user.name "I046147"
$ git config --global user.email "vincent.zhang@sap.com"
#+END_SRC
4. [@4]Type command "ssh-keygen" in the git bash, confirm, confirm, and it will generate you a RSA key pair;
5. Login Gerrit https://git.wdf.sap.corp:8080/#/settings/ssh-keys with your SAP account, click the "Add Key" button, copy the content in the generated key file "id_raa.pub"  into the plain text box, and then click "Add". This step permits you the authorization to clone codes from the corp's git repository.

Also refer the following link to know more on the developer's perspective: https://wiki.wdf.sap.corp/wiki/display/prodgit/First+Steps

**** Working with GIT
It is not necessary to remember the git commands, you can operate all GIT operations in Web IDE. Please refer the following link: https://wiki.wdf.sap.corp/wiki/display/webapptoolkit/Working+with+GIT

Also read the helpful guide: "GIT Training for ABAP Developer", which resides in this [[\\Cnpvgl000\restricted\FGI\50_Project\Central_Finance\99_Knowledge\03_Consolidation\Fiori\Learning][share folder]].
*** Web IDE
https://code-fiori.dispatcher.cert.hana.ondemand.com/

Please also follow the following link to get helpful information on SAP Web IDE:https://wiki.wdf.sap.corp/wiki/display/webapptoolkit/Information+for+Working+with+SAP+Web+IDE

*** Project Portal
You need to create a project in the [[https://projectportal.int.sap.hana.ondemand.com][Project Portal]] before typing the codes. The Project Portal will create a git repository which you can clone to your Web IDE space. Then you create your Fiori App project in the repository so that you can commit&push your changes to the central GIT.

Besides, you can also do the basic Gerrit settings like adding people to the committer group and owner group. So that the code review workflow can be initially realized. 

How to start as a project owner: https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Non-ABAP

*** Jenkins
Jenkins is used to build and package your Firoi applications/components. It is also connected with the translation system so that multi-language is supported. Your built Firoi applications/components will then stored in Nexus server as the central repository of artifacts. From the Nexus repository, your application is uploaded to the ABAP UI Frontend Server as a BSP application.  

There are 5 Jenkins server used for different purposes:
1. CI Jobs:  https://fiodevci03.wdf.sap.corp/
2. Quality Jobs: https://fiochecks.wdf.sap.corp/jenkins/
3. Translation Jobs: https://fio-trans.wdf.sap.corp/
4. CheckMarx(Security Relvant): https://fio-cx.wdf.sap.corp/
5. Milestone Builds: https://fiorelease.wdf.sap.corp , internally calls https://xmake-dev.wdf.sap.corp  

*** Maven
Maven, a Yiddish word meaning accumulator of knowledge, was originally started as an attempt to simplify the build processes in the Jakarta Turbine project. There were several projects each with their own Ant build files that were all slightly different and JARs were checked into CVS. We wanted a standard way to build the projects, a clear definition of what the project consisted of, an easy way to publish project information and a way to share JARs across several projects.

The result is a tool that can now be used for building and managing any Java-based project. We hope that we have created something that will make the day-to-day work of Java developers easier and generally help with the comprehension of any Java-based project.

https://maven.apache.org/what-is-maven.html

**** POM
A Project Object Model or POM is the fundamental unit of work in Maven. It is an XML file that contains information about the project and configuration details used by Maven to build the project. It contains default values for most projects. Examples for this is the build directory, which is target; the source directory, which is src/main/java; the test source directory, which is src/test/java; and so on.

https://maven.apache.org/guides/introduction/introduction-to-the-pom.html
*** Nexus
http://nexus.wdf.sap.corp:8081/nexus/

http://nexus.pvgl.sap.corp:8081/nexus/#nexus-search;quick~fin.gl.finstatement

*** Your First Fiori App
By following the [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1700398221][step-by-step guide]], it is easy to implement your first Fiori app.

1. Create a CDS view "ZVINCE130_U" based on the base view generated by modeling tool. 
2. Follow the steps in the above guide to finish your first Fiori app.



** Naming Conventions
*** ABAP Package Structure
| Artifacts          | System | Package                  | SC       | ACH     |
|--------------------+--------+--------------------------+----------+---------|
| Business Catalogs  | UXT    | UIFIN_COMMON             | UIAPFI70 | FIN     |
| Technical Catalogs | UXT    | UIFI_IAM_TC              | UIAPFI70 | FIN     |
| Fiori App          | UXT    | UIFIN_CONS               | UIAPFI70 | ?       |
| Gateway            | UXT    | $TMP?                    |          |         |
| OData              | ER9    | APPL_FIN_ODATA_CONS      | S4CORE   | FIN-RTC |
| Backend Catalogs   | ER9    | APPL_FIN_APP_DESCRIPTORS | S4CORE   | FIN-RTC |

*** IAM Artifacts Naming
Please refer this [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/UI+-+Related+Naming+Conventions%252C+Packages+and+Software+Components][wikipage]] for the naming conventions.

P2 Area: FIN; P3 Area: CONS

|                              |                            | <30>                           |
| Artifacts Type               | Name                       | Description                    |
|------------------------------+----------------------------+--------------------------------|
| Technical Catalog (Frontend) | SAP_TC_FIN_CONS_COMMON     | SAP: Financials - Consolidation |
| Technical Catalog (Backend)  | SAP_TC_FIN_CONS_BE_APPS    | SAP_TC_FIN_CONS_BE_APPS:S4FIN  |
| Business Catalog             | SAP_FIN_BC_CONS_MASTER_DAT | Prepare chart of accountants, mappings, entities, group hierarchy, scope definition. |
| Business Catalog             | SAP_FIN_BC_CONS_MODELING   | Define consolidation model, CT methods, rounding method, exchange rates, group hierarchy and all related customizations. |
| Business Catalog             | SAP_FIN_BC_CONS_VALIDATION | Consolidation validation rule definition and assignment. |
| Business Catalog             | SAP_FIN_BC_CONS_DATA_REL   | Local accountants release local data to group, includes data upload, data release, validation, currency transalation. |
| Business Catalog             | SAP_FIN_BC_CONS_PREPARE    | Prepare for each period to get ready for the data collection and consolidation. Includes period initialization, maintain exchange rates, adjust scope and group hierarchy, and approval for the released data. |
| Business Catalog             | SAP_FIN_BC_CONS_CONSOLE    | BPC consolidation monitor, control monitor and journal posting. |
| Business Catalog             | SAP_FIN_BC_CONS_REPORTS    | Financial Consolidation Reports |
| Business Group               | SAP_FIN_BCG_CONS_MODELING  | Financial Consolidation Modeling. Includes consultants, developers, and other domain experts who can model the consolidation data and process. |
| Business Group               | SAP_FIN_BCG_CONS_LOCAL     | Local Accountants for Financial Consolidation |
| Business Group               | SAP_FIN_BCG_CONS_GROUP     | Group Accountants for Financial Consolidation |
| Business Role(R0248)         | SAP_BR_CONSLDTN_SPECIALIST | Financial Consolidation Specialist |


** Identity & Access Management(IAM)
*** Technical Catalogs     :Sam:
Technical catalog act as containers that group all delivered applications (Fiori, UI5, WebDynpro, WebGUI, ...) along application area and software components. They act as the repository of delivered content from which the tiles are picked to create catalogs which are then used in the Fiori Launchpad. Every application that is in the functional scope of the product shall be represented as a tile in a technical catalog. The following rules apply:

+ No separation between "transactional", "factsheet" and "analytical" catalogs is used.
+ A separation between frontend (Fiori, UI) catalogs shipped with the frontend software components and and backend catalogs (WebDynpro, WebGUI, ...) shipped with the backend software components is used.
+ If the semantically same app (i.e. the same intent), has different navigation targets in different delivers, only one tile, but different navigation targets have to be created in the technical catalog. When building the business catalogs, the right navigation target has to be chosen as reference.

Use [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/sap/arsrvc_upB_admn/main.html?sap-client=902scope=CUST][Fiori LaunchPad Designer]](UXT902) to define frontend catalogs; Use [[https://ldcier9.wdf.sap.corp:44300/sap/bc/webdynpro/sap/sui_tm_mm_app?sap-language=EN&sap-client=500&WDCONFIGURATIONID=SUI_TM_MM_APP#][Backend App Descriptors]](ER9500) to define your backend catalogs. For more detail, please refer this [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/Maintenance+of+Frontend+and+Backend+Catalogs][wiki-page]].

*** Business Catalogs      :Sam:
Business catalogs are the central object for UI and authorization assignment to business users and for structuring and organizing the authorization maintenance. If a user is assigned to a business catalog, he/she gets access to all apps included in the catalog and therefore requires the corresponding authorizations.

+ *On-premise*, business catalogs are defined by customers by composing the relevant apps based on their specific requirements. Authorizations are determined via the Fiori-PFCG integration when entering the catalog into the PFCG role menu. SAP delivers business catalogs as templates which customers may copy to create their own content.
+ *In the cloud*, business catalogs are defined by SAP and authorizations are delivered out-of-the-box with the corresponding business catalog roles. The customer key user bundles business catalogs in business roles and defines the instance-based authorizations via restrictions, however can not change the composition of the catalog. The right cut of business catalogs is therefore of utmost importance.

The visual part of a business catalog is represented as a Fiori catalog. Additional objects, i.e. business catalog role and restrictions, complement the Fiori catalog in the S/4HANA cloud editions to achieve automated lifecycle management for authorizations and extensibility.

Use [[https://wdciw04.wdf.sap.corp:1301/sap/bc/ui5_ui5/sap/arsrvc_upB_admn/main.html?sap-client=902scope=CUST][Fiori LaunchPad Designer]](UXT902) to define your business catalogs. Please also read the [[https://wiki.wdf.sap.corp/wiki/display/SimplSuite/IAM+Development+Guideline#IAMDevelopmentGuideline-DesignConsiderations][Design Considerations]] and [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1738188519][how-to-guide]] when you define your business catalogs. 

*** Business Group      :Sam:
Business groups are defined in the Fiori Launchpad Designer. The represent edition (on-premise/cloud) specific grouping of visible apps from one or more business catalogs from the same business area in the Fiori Launchpad. The represent the end user point of view and should have unique titles within the related business roles.

The following rules apply for the title of business groups:
+ Use short business group titles. If possible with less than 20-30 characters. Longer titles will not work correctly as tab captions esp. on mobile devices.
+ Use titles that are unique within the business roles that use the business group. As apposed to business catalog titles, business group titles don't have to be globally unique.
+ Use the plural by default. Example: "Recipes" and "Supplier Accounts".
+ Use gerunds to indicate activities. Example:"Maintenance Planning".

*** Business Roles      :Sam:Carol:
Business roles denote a role of a persona. For example "Administrator" or "Supply Chain Planner". They are an aggregation of the applications contained in one or more business catalogs under a common name. The title of business roles must comply with the content of the Fiori Role Portfolio. That list is currently still subject to changes and cleanup activities. Therefore you may see error reported for things that have already been aligned with the IAM team and are not yet reflected on the Wiki or programmatic checks.

In the S/4HANA on-premise edition, business roles are technically represented by PFCG single roles which have the corresponding business catalogs assigned. The naming convention is "SAP_BR_<PERSONA>_<VARIANT>[_<COUNTRY>]". Because business roles are business driven their IDs must not include any area prefixes but shall reflect the description. For example "SAP_PLM_BOM_ENGINEER" is wrong while "SAP_BR_BOM_ENGINEER" is correct. _They exist in the frontend server and do not contain any authorizations._ They serve demo and trial use cases. Customers would typically create their own business roles are PFCG single or composite roles in the transaction PFCG. Assigning the required backend authorizations is a separate step performed by the customer in the transaction PFCG of the corresponding backend clients.

In the S/4HANA cloud editions, business roles are technically a new cloud specific master data entity which is created by the customer using a cloud specific Fiori UI. Besides the assignment of the business catalogs and business users, the business role also contains restriction on activities (read-only/read-write) and instances (company "1010", "my team"). The generation of the required PFCG roles including both the frontend and the backend authorizations is an automated process. See Business Role for the complete design. The current collection of S/4HANA cloud edition business roles is document in S4HANA IAM Content. The assignment to the business role ID there is used as structuring information for SET content, generic test users and related test cases (see test user and test case per business role). The counter part of the PFCG single roles delivered as business roles in on-premise are the business role templates in the cloud. They are the basis for creating business roles and generic test users in cloud systems.

Please refer this [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+Role+Portfolio][sapwiki]] on how to apply a business role in [[https://ifp.wdf.sap.corp/sap/bc/webdynpro/sps/wda_obt_ro_variant?object_type_id=OBT_IFP_6CAE8B26E4CB1ED5808C27D93BB8DD84?variant_id=6CAE8B26E4CB1ED6B1BA05D3A39EE0C0?user_settings=X#][OAM]](Object Attribute Manager).

*** Semantic Objects    :Vince:
Semantic objects are used for role-based navigation within the Fiori Launchpad. A semantic object is defined using the Semantic Object catalog following the naming rules of the virtual data model (VDM). In addition to the definition, a *registration* needs to be done centrally in U00. Use [[https://gtnc-w0211397f.dispatcher.int.sap.hana.ondemand.com/webapp/index.html][Global Technical Name Catalog]] to register your semantic object.

For more information on semantic objects, please refer:https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Semantic+Objects+for+Navigation

For more information on Global Technical Name Catalog, please refer: https://wiki.wdf.sap.corp/wiki/display/SuiteCDS/VDM+Global+Term+Catalog+Application
*** Fiori App ID        :Ying:
Before you register your Fiori app, you need first apply your business roles. 

PO should maintain the Fiori Portfolio in OAM. In our case, we deliver in release op1709, which I suppose we should main OAM through this link: [[https://ifp.wdf.sap.corp/sap/bc/webdynpro/sps/wda_obt_variant?object_type_id=OBT_IFP_6CAE8B28C5DB1ED39A99A3948F2DC308?variant_id=6CAE8B26E4CB1ED6A9CAAF35ECB5B445?user_settings=X#][2017 / Q3 variant]]. All visible and editable columns should be fill. A short description of columns can be find [[https://wiki.wdf.sap.corp/wiki/pages/viewpage.action?pageId=1588149430][here]].

You must pass the *Design Gate1* to get your Fiori ID. Without Fiori ID, you can not build and deploy your Fiori App into UXT system. Most of our Fiori UI5 apps are required to pass Design Gate 1. The purpose of Design Gate 1 is to ensure the optimal desirability, viability, and feasibility of the design. You can pass through this gate once the Global Design lead or a named substitute has reviewed the documents you prepared during the design phase. The sign-off is usually done via an email confirmation.

For more detail please refer [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Fiori+App+Portfolio][Fiori App Portfolio]].


** Fiori Components                                                  :Vince:
The following naming are refer the guideline of [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Naming+Conventions+for+Development+Objects][S4HANA Naming Conventions for Development Objects]].

This page tells you how to request [[https://wiki.wdf.sap.corp/wiki/display/ERPFINDEV/Leaf+ABAP+Packages+for+FIN+AT1+Fiori+Apps][Leaf ABAP Packages]].

*** Maintain Validation Rule                                          :Steve:
| Artifacts                         | Name                                      |
|-----------------------------------+-------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_VALIDATION_RULE       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_VALIDATION_RULE |
| App name and ID in Project Portal | fin.cons.validationrule                   |
| POM Artifact ID                   | fin.cons.validationrule                   |
| Fiori ID                          | F2575                                     |
| BSP Application Name              | FIN_VALIRULE                              |
| Service Builder Project           | CONS_VALIDATION_RULE                      |
| Semantic Object                   | FinancialValidationRule                   |

*** Maintain Validation Method                                       :Summer:
| Artifacts                         | Name                                        |
|-----------------------------------+---------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_VALIDATION_METHOD       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_VALIDATION_METHOD |
| App name and ID in Project Portal | fin.cons.validationmethod                   |
| POM Artifact ID                   | fin.cons.validationmethod                   |
| Fiori ID                          | F2598                                       |
| BSP Application Name              | FIN_VALIMETHOD                              |
| Service Builder Project           | CONS_VALIDATION_METHOD                      |
| Semantic Object                   | FinValidationMethod                         |

*** Consolidation Data Release Cockpit                                 :Lynn:
| Artifacts                         | Name                          |
|-----------------------------------+-------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_DRC       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_DRC |
| App name and ID in Project Portal | fin.cons.drc                  |
| POM Artifact ID                   | fin.cons.drc                  |
| Fiori ID                          | F2591                         |
| BSP Application Name              | FIN_CONS_DRC                  |
| Service Builder Project           | CONS_DATA_RELEASE_COCKPIT     |
| Semantic Object                   | ConsolidationDataRelease      |

*** Approve Financial Data for Consolidation                        :William:
| Artifacts                         | Name                          |
|-----------------------------------+-------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_DMA       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_DMA |
| App name and ID in Project Portal | fin.cons.data.mass.approval   |
| POM Artifact ID                   | fin.cons.data.mass.approval   |
| Fiori ID                          | F2620                         |
| BSP Application Name              | FIN_CONS_DMA                  |
| Service Builder Project           | CONS_DATA_MASS_APPROVAL       |
| Semantic Object                   | ConsolidationDataApproval     |

*** Financial Statement for Consolidation Entity                       :Chang:
| Artifacts                         | Name                                          |
|-----------------------------------+-----------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_ENTITY_FINSTATEMENT       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_ENTITY_FINSTATEMENT |
| App name and ID in Project Portal | fin.cons.entity.finstatement.display          |
| POM Artifact ID                   | fin.cons.entity.finstatement.display          |
| Fiori ID                          | F2627                                         |
| BSP Application Name              | FIN_CONS_EFS                                  |
| Service Builder Project           | CONS_ENTITY_FINANCIAL_STATEMENT               |
| Semantic Object                   | ConsolidationFinStatement                     |

*** Consolidation Used Document List                                  :Chang:
A report can be drill-through from consolidation financial statements
| Artifacts                         | Name                              |
|-----------------------------------+-----------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_DOCLIST       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_DOCLIST |
| App name and ID in Project Portal | fin.cons.document.list            |
| POM Artifact ID                   | fin.cons.document.list            |
| Fiori ID                          | F2638                             |
| BSP Application Name              | FIN_CONS_DL                       |
| Service Builder Project           | CONS_DOCLIST                      |
| Semantic Object                   | DocumentList                      |

*** Consolidation Used Financial Statement Library                   :Chang:
Contains all reusable financial statement components, includes hierarchy display, drill-through reports, and search helps. 
| Artifacts                         | Name                                       |
|-----------------------------------+--------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_LIB_FINSTATEMENT       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_LIB_FINSTATEMENT |
| App name and ID in Project Portal | fin.cons.lib.finstatement                  |
| POM Artifact ID                   | fin.cons.lib.finstatement                  |
| Fiori ID                          | F2656                                      |
| BSP Application Name              | FIN_CONS_LIB_FS                            |
| Service Builder Project           | CONS_LIB_FINANCIAL_STATEMENT               |

*** Validation Result Library                                         :Chang:   
It is used in Validation Method and Data Release Cockpit.
| Artifacts                         | Name                                            |
|-----------------------------------+-------------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_LIB_VALIDATION_RESULT       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_LIB_VALIDATION_RESULT |
| App name and ID in Project Portal | fin.cons.lib.validationresult                   |
| POM Artifact ID                   | fin.cons.lib.validationresult                   |
| Fiori ID                          | F2654                                           |
| BSP Application Name              | FIN_CONS_LIB_VR                                 |
| Service Builder Project           | CONS_LIB_VALIDATION_RESULT                      |

*** Validation Engine Library                                         :Steve:
It is used in Validation Rule and Validation Method
| Artifacts                         | Name                                            |
|-----------------------------------+-------------------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_LIB_VALIDATION_ENGINE       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_LIB_VALIDATION_ENGINE |
| App name and ID in Project Portal | fin.cons.lib.validationengine                   |
| POM Artifact ID                   | fin.cons.lib.validationengine                   |
| Fiori ID                          | F2653                                           |
| BSP Application Name              | FIN_LIB_VE                                      |
| Service Builder Project           | CONS_LIB_VALIDATION_ENGINE                      |

*** Responsive Comment Service Library                                 :Jane:
Local accountants and group accountants can give comments on the validation results or packages.
| Artifacts                         | Name                                    |
|-----------------------------------+-----------------------------------------|
| Package for Fiori App(UXT)        | UIFIN_CONS/FIN_CONS_LIB_RCOMMENTS       |
| Package for OData(ER9)            | APPL_FIN_ODATA_CONS/ODATA_LIB_RCOMMENTS |
| App name and ID in Project Portal | fin.cons.lib.rcomments                  |
| POM Artifact ID                   | fin.cons.lib.rcomments                  |
| Fiori ID                          | F2655                                   |
| BSP Application Name              | FIN_CONS_LIB_RC                         |
| Service Builder Project           | CONS_LIB_RCOMMENTS                      |

** Best Practices
The best practices listed are tailored for Real-time Consolidation development. 

*** Transaction Patterns
The stateless pattern of Fiori app posts a lot of issues regarding on the aspect of concurrency, transactional, session management, global temporary table access, and so on. Go through this [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/Transactional+Patterns][wikipage]] to choose the right pattern of your app. 

Generally, I prefer the pattern A and D. Draft Service is not recommended as most of our objects has state 'S' and 'A'. Etag is recommended to discover and resolve conflicts. Soft state should be used for reporting apps.

*** Message Handling
Please read through this [[https://wiki.wdf.sap.corp/wiki/display/fioritech/Message+Handling][wikipage]] to know hot to handle message and message long text on OData and Fiori level.

*** Navigation
Refer this [[https://wiki.wdf.sap.corp/wiki/display/unifiedshell/Fiori+Launchpad+Navigation+Concept][wikipage]] to know Fiori Launchpad Navigation Concept, aka intent-based navigation.

App-2-App navigation?

*** Value Help and type-Ahead
Refer this [[https://wiki.wdf.sap.corp/wiki/display/odata/Value+Help+and+Type-Ahead][wikipage]] to know how to implement value help for a field.

*** InApp Search
See the following [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/AT1+InApp+Search+Guideline][wikipage]] to know how to realize InApp Search.

*** Deployment and Testing
It would be benefit if one can manually upload the Fiori Application into ABAP repository. There is a [[https://blogs.sap.com/2016/06/28/deploy-web-ide-developed-fiori-application-to-local-abap-repository/][blog]] on SCN describes the detail, however, after testing, it is not work in the new SAPUI5 version or infrastructure.
*** Internationalization(I18N)
Refer this [[https://wiki.wdf.sap.corp/wiki/display/fioritech/Globalization][wikipage]] to be aware of globalization and translation.

#+CAPTION: How to maintain text of a button. 
#+BEGIN_SRC xml
<Button
id ="REJECT_BTN"
text="{i18n>REJECT_BUTTON_TEXT}"
icon="sap-icon://decline"
enabled="true"
press="handleReject" />
#+END_SRC

*** Performance
Refer this [[https://wiki.wdf.sap.corp/wiki/display/fiorisuite/01.1+Performance+Best+Practices+for+transactional+FIORI+Apps][wikipage]] to know the best practices for transactional Fiori Apps

*** Security
Refer this [[https://wiki.wdf.sap.corp/wiki/display/fiorisec/Security+Guidelines+for+Fiori+Development][wikipage]] to know security on Fiori development. It also describe the security concerns on file upload/download.

** Begin Development
http://veui5infra.dhcp.wdf.sap.corp:8080/demokit
